import{a as oe}from"./chunk-5KJY4PC5.js";import{a as re}from"./chunk-JDOSLYPO.js";import{d as B}from"./chunk-TFTKUNPW.js";import{a as ie}from"./chunk-DHAUQZCD.js";import{a as te}from"./chunk-BUF25X6N.js";import{a as q,b as G,c as N,d as z,e as U,f as H,g as A,h as Y,i as J,j as K,k as Q,l as X,m as Z,n as $}from"./chunk-HVWDDB5U.js";import{a as ee}from"./chunk-B42MHBEF.js";import"./chunk-I36WQ6MU.js";import"./chunk-PIYG2HY2.js";import{e as I,h as O,i as j,n as W}from"./chunk-6Y6W3DZI.js";import{Fa as D,Ka as x,R as _,Ta as m,Ua as e,Va as r,W as c,Wa as p,X as u,Y as b,Z as P,ab as R,db as f,fb as y,gb as T,hb as L,jb as o,kb as V,l as S,lb as C,nb as h,ob as w,p as M,pb as v,qa as F,ra as n,x as k}from"./chunk-NRNLENJO.js";var E=class{id=0;producto="";descripcion="";precio=0;stock=0;idsubfamilia=0;idunidadmedida=0;idmarca=0;estado=0;imagen="";imagenError=!1};function ae(d,l){if(d&1&&(e(0,"div",78)(1,"div",45),b(),e(2,"svg",79),p(3,"path",80),r(),P(),e(4,"p",81),o(5),r()()()),d&2){let i=y();n(5),V(i.errorMessage)}}function de(d,l){if(d&1&&(e(0,"div",82)(1,"div",45),b(),e(2,"svg",83),p(3,"path",84),r(),P(),e(4,"p",85),o(5),r()()()),d&2){let i=y();n(5),V(i.successMessage)}}function le(d,l){if(d&1&&p(0,"img",86),d&2){let i=y();m("src",i.newProduct.imagen,F)}}function se(d,l){d&1&&(b(),e(0,"svg",87),p(1,"path",88),r())}function me(d,l){d&1&&(e(0,"p",89),o(1," Error: Solo se permiten archivos de imagen (JPG, PNG). "),r())}function ce(d,l){if(d&1&&(e(0,"option",52),o(1),r()),d&2){let i=l.$implicit;m("ngValue",i.id),n(),C(" ",i.descripcion," ")}}function ue(d,l){if(d&1&&(e(0,"option",52),o(1),r()),d&2){let i=l.$implicit;m("ngValue",i.id),n(),C(" ",i.descripcion," ")}}function ge(d,l){if(d&1&&(e(0,"option",52),o(1),r()),d&2){let i=l.$implicit;m("ngValue",i.id),n(),C(" ",i.descripcion," ")}}function pe(d,l){if(d&1&&(e(0,"option",52),o(1),r()),d&2){let i=l.$implicit;m("ngValue",i.id),n(),C(" ",i.descripcion," ")}}function fe(d,l){d&1&&(b(),e(0,"svg",90),p(1,"circle",91)(2,"path",92),r())}function be(d,l){d&1&&(b(),e(0,"svg",69),p(1,"path",93),r())}function xe(d,l){if(d&1){let i=R();e(0,"div",94),f("click",function(){c(i);let s=y();return u(s.cerrarModal())}),e(1,"div",95),f("click",function(s){return c(i),u(s.stopPropagation())}),e(2,"div",96)(3,"div",97),b(),e(4,"svg",98),p(5,"path",84),r()()(),P(),e(6,"h2",99),o(7," \u2705 \xA1Producto Registrado! "),r(),e(8,"p",100),o(9),r(),e(10,"div",101)(11,"button",102),f("click",function(){c(i);let s=y();return u(s.cerrarModal())}),o(12," \u2795 Registrar Otro "),r(),e(13,"button",103),f("click",function(){c(i);let s=y();return u(s.cerrarModalYVolver())}),b(),e(14,"svg",104),p(15,"path",105),r(),o(16," \u{1F4CB} Ver Lista "),r()()()()}if(d&2){let i=y();n(9),C(" ",i.modalMessage," ")}}var ne=class d{newProduct=new E;router;location;productosService;subfamiliasService;familiasService;marcasService;unidadesMedidaService;familias=[];subfamilias=[];marcas=[];unidadesMedida=[];familiaSeleccionada=0;isLoading=!1;errorMessage="";successMessage="";showSuccessModal=!1;modalMessage="";constructor(){this.router=_(B),this.location=_(I),this.productosService=_(ee),this.subfamiliasService=_(ie),this.familiasService=_(te),this.marcasService=_(re),this.unidadesMedidaService=_(oe)}ngOnInit(){this.cargarFamilias(),this.cargarSubfamilias(),this.cargarMarcas(),this.cargarUnidadesMedida()}onFileSelected(l){let i=l.target.files[0];if(i){if(!i.type.match(/image\/(jpeg|png|gif)/)){this.newProduct.imagen="",this.newProduct.imagenError=!0;return}this.newProduct.imagenError=!1;let t=new FileReader;t.onload=s=>{this.newProduct.imagen=s.target.result},t.readAsDataURL(i)}}guardarProducto(){if(this.isLoading)return;this.isLoading=!0,this.errorMessage="",this.successMessage="";let l={producto:this.newProduct.producto.trim(),descripcion:this.newProduct.descripcion.trim(),precio:this.newProduct.precio,stock:this.newProduct.stock,idsubfamilia:this.newProduct.idsubfamilia,idunidadmedida:this.newProduct.idunidadmedida,idmarca:this.newProduct.idmarca,imagen:this.newProduct.imagen||""};console.log("--- Producto a Guardar ---"),console.log(l),this.productosService.registrarProducto(l).pipe(M({each:1e4}),k(i=>(console.error("Error al registrar producto:",i),this.isLoading=!1,this.errorMessage="Error al conectar con el servidor. Por favor, int\xE9ntelo de nuevo.",S(null)))).subscribe({next:i=>{this.isLoading=!1,i&&i.exito?(this.modalMessage=i.mensaje||"Producto registrado exitosamente",this.showSuccessModal=!0):this.errorMessage=i?.mensaje||"Error al registrar el producto. Verifique los datos e int\xE9ntelo de nuevo."},error:i=>{console.error("Error:",i),this.isLoading=!1,this.errorMessage="Error inesperado. Por favor, int\xE9ntelo de nuevo."}})}cancelarRegistro(){this.router.navigate(["/lista-productos"])}limpiarFormulario(){this.newProduct=new E,this.familiaSeleccionada=0,this.onFamiliaChange(),this.errorMessage="",this.successMessage=""}volverCatalogos(){this.location.back()}cargarFamilias(){let l={estado:1};this.familiasService.listaFamilias(l).pipe(M({each:7e3}),k(i=>(console.error("Error al cargar familias:",i),S(null)))).subscribe({next:i=>{i&&i.exito&&(this.familias=i.familia||[])},error:i=>{console.error("Error:",i)}})}cargarSubfamilias(){this.cargarSubfamiliasPorFamilia(0)}cargarSubfamiliasPorFamilia(l){let i={estado:1,idfamilia:l};this.subfamiliasService.listaSubfamilias(i).pipe(M({each:7e3}),k(t=>(console.error("Error al cargar subfamilias:",t),S(null)))).subscribe({next:t=>{t&&t.exito&&(this.subfamilias=t.subFamilia||[])},error:t=>{console.error("Error:",t)}})}cargarMarcas(){let l={estado:1};this.marcasService.listaMarcas(l).pipe(M({each:7e3}),k(i=>(console.error("Error al cargar marcas:",i),S(null)))).subscribe({next:i=>{i&&i.exito&&(this.marcas=i.marca||[])},error:i=>{console.error("Error:",i)}})}cargarUnidadesMedida(){let l={estado:1};this.unidadesMedidaService.listaUnidadesMedida(l).pipe(M({each:7e3}),k(i=>(console.error("Error al cargar unidades de medida:",i),S(null)))).subscribe({next:i=>{i&&i.exito&&(this.unidadesMedida=i.unidadmedida||[])},error:i=>{console.error("Error:",i)}})}onFamiliaChange(){let l=Number(this.familiaSeleccionada)||0;this.cargarSubfamiliasPorFamilia(l),this.newProduct.idsubfamilia=0}cerrarModalYVolver(){this.showSuccessModal=!1,this.location.back()}cerrarModal(){this.showSuccessModal=!1}static \u0275fac=function(i){return new(i||d)};static \u0275cmp=D({type:d,selectors:[["app-registrar-productos-page"]],decls:137,vars:38,consts:[["productForm","ngForm"],[1,"flex","flex-col","min-h-screen","bg-white","p-2","sm:p-4","md:p-8"],[1,"flex","items-center","justify-between","pb-4","md:pb-6","border-b","border-gray-300","flex-none"],[1,"flex","items-center","gap-2","md:gap-4"],[1,"bg-orange-600","text-white","rounded-full","p-2","h-8","w-8","md:h-10","md:w-10","flex","items-center","justify-center","hover:bg-orange-700","transition","shadow-lg",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","md:w-5","md:h-5"],["stroke","none","d","M0 0h24v24H0z","fill","none"],["d","M5 12l14 0"],["d","M5 12l4 4"],["d","M5 12l4 -4"],[1,"text-lg","sm:text-xl","md:text-2xl","lg:text-3xl","font-extrabold","text-gray-900"],[1,"hidden","sm:inline"],[1,"sm:hidden"],["class","mt-6 p-4 bg-red-100 border border-red-300 rounded-lg shadow-sm",4,"ngIf"],["class","mt-6 p-4 bg-green-100 border border-green-300 rounded-lg shadow-sm",4,"ngIf"],[1,"mt-4","md:mt-8","space-y-4","md:space-y-8","bg-gray-50","p-2","md:p-8","rounded-xl","shadow-2xl",3,"ngSubmit"],[1,"grid","grid-cols-1","lg:grid-cols-12","gap-4","md:gap-8"],[1,"lg:col-span-4","flex","flex-col","items-center","lg:items-start","space-y-4","md:space-y-8","p-3","md:p-6","bg-gray-100","rounded-xl","shadow-lg","border-l-4","border-orange-600"],[1,"text-lg","md:text-xl","font-extrabold","text-orange-600","border-b-2","border-orange-300","pb-2","w-full","text-center","lg:text-left"],[1,"relative","h-32","w-32","md:h-48","md:w-48","rounded-full","border-4","border-gray-300","bg-white","flex","items-center","justify-center","overflow-hidden","shadow-lg"],["alt","Preview del Producto","class","object-cover h-full w-full transition duration-300",3,"src",4,"ngIf"],["class","w-12 h-12 md:w-20 md:h-20 text-gray-400","fill","none","viewBox","0 0 24 24","stroke","currentColor",4,"ngIf"],[1,"w-full","space-y-3","md:space-y-4"],[1,"pb-2","border-b","border-orange-200"],["for","nombre",1,"block","text-xs","md:text-sm","font-bold","text-gray-700"],[1,"text-red-500"],["type","text","id","nombre","name","producto","required","","placeholder","Ej: Laptop Gaming Dell G15",1,"mt-1","block","w-full","px-3","md:px-4","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-orange-600","focus:border-orange-600","transition","text-sm",3,"ngModelChange","ngModel"],[1,"w-full","space-y-2","md:space-y-3"],["for","imagen_upload",1,"flex","flex-col","items-center","justify-center","w-full","h-10","md:h-12","bg-orange-600","text-white","rounded-lg","cursor-pointer","hover:bg-orange-700","transition","shadow-lg"],[1,"text-xs","md:text-sm","font-semibold"],["type","file","id","imagen_upload",1,"hidden",3,"change"],[1,"text-center","text-xs","md:text-sm","text-gray-500","font-medium"],["for","imagen_url",1,"block","text-xs","md:text-sm","font-medium","text-gray-700","mb-1"],["type","url","id","imagen_url","name","imagen","placeholder","https://ejemplo.com/imagen.jpg",1,"w-full","px-2","md:px-3","py-1.5","md:py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-orange-600","focus:border-orange-600","text-xs","md:text-sm","transition",3,"ngModelChange","ngModel"],["class","mt-2 text-xs text-red-600 font-medium",4,"ngIf"],[1,"lg:col-span-8","space-y-4","md:space-y-8"],[1,"bg-white","p-3","md:p-6","rounded-lg","border","border-gray-200","shadow-sm"],[1,"text-lg","md:text-xl","font-bold","text-gray-800","mb-3","md:mb-6","pb-2","md:pb-3","border-b","border-orange-100"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-3","md:gap-6"],["for","precio",1,"block","text-xs","md:text-sm","font-medium","text-gray-700"],["type","number","id","precio","name","precio","required","","step","0.01",1,"mt-1","block","w-full","px-3","md:px-4","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-orange-600","focus:border-orange-600","transition","text-sm",3,"ngModelChange","ngModel"],["for","stock",1,"block","text-xs","md:text-sm","font-medium","text-gray-700"],["type","number","id","stock","name","stock","required","","min","0",1,"mt-1","block","w-full","px-3","md:px-4","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-orange-600","focus:border-orange-600","transition","text-sm",3,"ngModelChange","ngModel"],[1,"text-lg","md:text-xl","font-bold","text-gray-800","mb-3","md:mb-4","pb-2","md:pb-3","border-b","border-orange-100"],[1,"mb-3","md:mb-4","p-2","md:p-3","bg-blue-50","border","border-blue-200","rounded-lg"],[1,"flex","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","md:w-5","md:h-5","text-blue-600","mr-2","flex-shrink-0"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-blue-800","text-xs","md:text-sm"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-4","gap-3","md:gap-6"],["for","familia",1,"block","text-xs","md:text-sm","font-medium","text-gray-700"],["id","familia","name","familia",1,"mt-1","block","w-full","px-2","md:px-4","py-1.5","md:py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-orange-600","focus:border-orange-600","bg-white","transition","text-sm",3,"ngModelChange","ngModel"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["for","subfamilia",1,"block","text-xs","md:text-sm","font-medium","text-gray-700"],["id","subfamilia","name","idsubfamilia","required","",1,"mt-1","block","w-full","px-2","md:px-4","py-1.5","md:py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-orange-600","focus:border-orange-600","bg-white","transition","text-sm",3,"ngModelChange","ngModel"],["disabled","",3,"ngValue"],["for","unidadmedida",1,"block","text-xs","md:text-sm","font-medium","text-gray-700"],["id","unidadmedida","name","idunidadmedida","required","",1,"mt-1","block","w-full","px-2","md:px-4","py-1.5","md:py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-orange-600","focus:border-orange-600","bg-white","transition","text-sm",3,"ngModelChange","ngModel"],["for","marca",1,"block","text-xs","md:text-sm","font-medium","text-gray-700"],["id","marca","name","idmarca","required","",1,"mt-1","block","w-full","px-2","md:px-4","py-1.5","md:py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-orange-600","focus:border-orange-600","bg-white","transition","text-sm",3,"ngModelChange","ngModel"],["for","descripcion",1,"block","text-xs","md:text-sm","font-medium","text-gray-700"],["id","descripcion","name","descripcion","rows","3","placeholder","Describe las caracter\xEDsticas, especificaciones y detalles importantes del producto...",1,"mt-1","block","w-full","px-3","md:px-4","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-orange-600","focus:border-orange-600","transition","text-sm","resize-none",3,"ngModelChange","ngModel"],[1,"pt-4","md:pt-6","border-t","border-gray-200","space-y-3","md:space-y-0"],[1,"hidden","md:flex","md:justify-start"],["type","button",1,"px-6","py-2","border","border-gray-300","text-gray-700","font-medium","rounded-lg","hover:bg-gray-50","transition-colors","disabled:opacity-50","disabled:cursor-not-allowed","text-sm",3,"click","disabled"],[1,"flex","flex-col","space-y-3","md:flex-row","md:space-y-0","md:space-x-4","md:justify-end"],["type","button",1,"mobile-button","form-button","w-full","md:w-auto","order-2","md:order-1","px-6","py-3","border-2","border-gray-300","text-gray-700","font-semibold","rounded-xl","hover:bg-gray-50","hover:border-gray-400","desktop-hover","transition-all","duration-200","disabled:opacity-50","disabled:cursor-not-allowed","text-base","md:text-sm","min-h-[48px]","md:min-h-[44px]","focus:ring-2","focus:ring-gray-300","focus:ring-offset-2",3,"click","disabled"],[1,"flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-2","flex-shrink-0"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6m0 12L6 6"],[1,"truncate"],["type","submit",1,"mobile-button","form-button","loading-button","w-full","md:w-auto","order-1","md:order-2","px-6","py-3","bg-gradient-to-r","from-orange-600","to-orange-700","text-white","font-bold","rounded-xl","hover:from-orange-700","hover:to-orange-800","desktop-hover","transition-all","duration-200","disabled:opacity-50","disabled:cursor-not-allowed","disabled:transform-none","shadow-lg","hover:shadow-xl","text-base","md:text-sm","min-h-[48px]","md:min-h-[44px]","focus:ring-2","focus:ring-orange-300","focus:ring-offset-2",3,"disabled"],["class","animate-spin w-5 h-5 mr-2 text-white flex-shrink-0","fill","none","viewBox","0 0 24 24",4,"ngIf"],["class","w-5 h-5 mr-2 flex-shrink-0","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],[1,"md:hidden","flex","justify-center"],["type","button",1,"text-gray-500","hover:text-gray-700","font-medium","text-sm","underline","disabled:opacity-50",3,"click","disabled"],["class","fixed inset-0 bg-black/50 bg-opacity-50 flex items-center justify-center z-50 p-4",3,"click",4,"ngIf"],[1,"mt-6","p-4","bg-red-100","border","border-red-300","rounded-lg","shadow-sm"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-red-600","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-red-800","font-medium"],[1,"mt-6","p-4","bg-green-100","border","border-green-300","rounded-lg","shadow-sm"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-green-600","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-green-800","font-medium"],["alt","Preview del Producto",1,"object-cover","h-full","w-full","transition","duration-300",3,"src"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-12","h-12","md:w-20","md:h-20","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","d","M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"],[1,"mt-2","text-xs","text-red-600","font-medium"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","w-5","h-5","mr-2","text-white","flex-shrink-0"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"],[1,"fixed","inset-0","bg-black/50","bg-opacity-50","flex","items-center","justify-center","z-50","p-4",3,"click"],[1,"bg-white","rounded-xl","shadow-2xl","p-4","md:p-8","max-w-md","w-full","mx-auto","transform","transition-all","duration-300",3,"click"],[1,"flex","justify-center","mb-4","md:mb-6"],[1,"bg-green-100","rounded-full","p-3","md:p-4"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","md:w-12","md:h-12","text-green-600"],[1,"text-xl","md:text-2xl","font-bold","text-gray-900","text-center","mb-3","md:mb-4"],[1,"text-gray-600","text-center","mb-6","md:mb-8","leading-relaxed","text-sm","md:text-base"],[1,"flex","flex-col","gap-2","md:flex-row","md:gap-3"],[1,"w-full","px-4","md:px-6","py-2.5","md:py-3","border","border-gray-300","text-gray-700","font-semibold","rounded-lg","hover:bg-gray-50","transition","duration-150","text-sm",3,"click"],[1,"w-full","px-4","md:px-6","py-2.5","md:py-3","bg-orange-600","text-white","font-semibold","rounded-lg","hover:bg-orange-700","transition","duration-150","flex","items-center","justify-center","text-sm",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5l7 7-7 7"]],template:function(i,t){if(i&1){let s=R();e(0,"div",1)(1,"div",2)(2,"div",3)(3,"button",4),f("click",function(){return c(s),u(t.volverCatalogos())}),b(),e(4,"svg",5),p(5,"path",6)(6,"path",7)(7,"path",8)(8,"path",9),r()(),P(),e(9,"h1",10)(10,"span",11),o(11,"\u{1F4E6} Registrar Nuevo Producto"),r(),e(12,"span",12),o(13,"Nuevo Producto"),r()()()(),x(14,ae,6,1,"div",13)(15,de,6,1,"div",14),e(16,"form",15,0),f("ngSubmit",function(){return c(s),u(t.guardarProducto())}),e(18,"div",16)(19,"div",17)(20,"h2",18),o(21,"Imagen y Nombre"),r(),e(22,"div",19),x(23,le,1,1,"img",20)(24,se,2,0,"svg",21),r(),e(25,"div",22)(26,"div",23)(27,"label",24),o(28,"Nombre del Producto "),e(29,"span",25),o(30,"*"),r()(),e(31,"input",26),v("ngModelChange",function(a){return c(s),w(t.newProduct.producto,a)||(t.newProduct.producto=a),u(a)}),r()(),e(32,"div",27)(33,"label",28)(34,"p",29),o(35,"\u{1F4F7} Subir Imagen"),r(),e(36,"input",30),f("change",function(a){return c(s),u(t.onFileSelected(a))}),r()(),e(37,"div",31),o(38,"O"),r(),e(39,"div")(40,"label",32),o(41,"URL de Imagen"),r(),e(42,"input",33),v("ngModelChange",function(a){return c(s),w(t.newProduct.imagen,a)||(t.newProduct.imagen=a),u(a)}),r()(),x(43,me,2,0,"p",34),r()()(),e(44,"div",35)(45,"div",36)(46,"h2",37),o(47,"\u{1F4B0} Precio e Inventario"),r(),e(48,"div",38)(49,"div")(50,"label",39),o(51,"Precio Venta (S/) "),e(52,"span",25),o(53,"*"),r()(),e(54,"input",40),v("ngModelChange",function(a){return c(s),w(t.newProduct.precio,a)||(t.newProduct.precio=a),u(a)}),r()(),e(55,"div")(56,"label",41),o(57,"Stock Inicial "),e(58,"span",25),o(59,"*"),r()(),e(60,"input",42),v("ngModelChange",function(a){return c(s),w(t.newProduct.stock,a)||(t.newProduct.stock=a),u(a)}),r()()()(),e(61,"div",36)(62,"h2",43),o(63,"\u{1F4CB} Clasificaci\xF3n"),r(),e(64,"div",44)(65,"div",45),b(),e(66,"svg",46),p(67,"path",47),r(),P(),e(68,"p",48)(69,"strong"),o(70,"Filtrado por Familia:"),r(),e(71,"span",11),o(72,"Al seleccionar una familia, se filtrar\xE1n autom\xE1ticamente las subfamilias correspondientes."),r(),e(73,"span",12),o(74,"Selecciona familia para filtrar subfamilias"),r()()()(),e(75,"div",49)(76,"div")(77,"label",50),o(78,"Familia"),r(),e(79,"select",51),v("ngModelChange",function(a){return c(s),w(t.familiaSeleccionada,a)||(t.familiaSeleccionada=a),u(a)}),f("ngModelChange",function(){return c(s),u(t.onFamiliaChange())}),e(80,"option",52),o(81,"-- Todas las Familias --"),r(),x(82,ce,2,2,"option",53),r()(),e(83,"div")(84,"label",54),o(85,"Subfamilia "),e(86,"span",25),o(87,"*"),r()(),e(88,"select",55),v("ngModelChange",function(a){return c(s),w(t.newProduct.idsubfamilia,a)||(t.newProduct.idsubfamilia=a),u(a)}),e(89,"option",56),o(90,"-- Seleccione Subfamilia --"),r(),x(91,ue,2,2,"option",53),r()(),e(92,"div")(93,"label",57),o(94,"Unidad de Medida "),e(95,"span",25),o(96,"*"),r()(),e(97,"select",58),v("ngModelChange",function(a){return c(s),w(t.newProduct.idunidadmedida,a)||(t.newProduct.idunidadmedida=a),u(a)}),e(98,"option",56),o(99,"-- Seleccione Unidad --"),r(),x(100,ge,2,2,"option",53),r()(),e(101,"div")(102,"label",59),o(103,"Marca "),e(104,"span",25),o(105,"*"),r()(),e(106,"select",60),v("ngModelChange",function(a){return c(s),w(t.newProduct.idmarca,a)||(t.newProduct.idmarca=a),u(a)}),e(107,"option",56),o(108,"-- Seleccione Marca --"),r(),x(109,pe,2,2,"option",53),r()()()(),e(110,"div",36)(111,"h2",37),o(112,"\u{1F4DD} Descripci\xF3n"),r(),e(113,"label",61),o(114,"Descripci\xF3n Detallada del Producto"),r(),e(115,"textarea",62),v("ngModelChange",function(a){return c(s),w(t.newProduct.descripcion,a)||(t.newProduct.descripcion=a),u(a)}),r()()()(),e(116,"div",63)(117,"div",64)(118,"button",65),f("click",function(){return c(s),u(t.limpiarFormulario())}),o(119," \u{1F5D1}\uFE0F Limpiar Formulario "),r()(),e(120,"div",66)(121,"button",67),f("click",function(){return c(s),u(t.cancelarRegistro())}),e(122,"span",68),b(),e(123,"svg",69),p(124,"path",70),r(),P(),e(125,"span",71),o(126,"Cancelar"),r()()(),e(127,"button",72)(128,"span",68),x(129,fe,3,0,"svg",73)(130,be,2,0,"svg",74),e(131,"span",71),o(132),r()()()(),e(133,"div",75)(134,"button",76),f("click",function(){return c(s),u(t.limpiarFormulario())}),o(135," \u{1F5D1}\uFE0F Limpiar formulario "),r()()()()(),x(136,xe,17,1,"div",77)}if(i&2){let s=T(17);n(14),m("ngIf",t.errorMessage),n(),m("ngIf",t.successMessage),n(8),m("ngIf",t.newProduct.imagen),n(),m("ngIf",!t.newProduct.imagen),n(7),h("ngModel",t.newProduct.producto),n(11),h("ngModel",t.newProduct.imagen),n(),m("ngIf",t.newProduct.imagenError),n(11),h("ngModel",t.newProduct.precio),n(6),h("ngModel",t.newProduct.stock),n(19),h("ngModel",t.familiaSeleccionada),n(),m("ngValue",0),n(2),m("ngForOf",t.familias),n(6),h("ngModel",t.newProduct.idsubfamilia),n(),m("ngValue",0),n(2),m("ngForOf",t.subfamilias),n(6),h("ngModel",t.newProduct.idunidadmedida),n(),m("ngValue",0),n(2),m("ngForOf",t.unidadesMedida),n(6),h("ngModel",t.newProduct.idmarca),n(),m("ngValue",0),n(2),m("ngForOf",t.marcas),n(6),h("ngModel",t.newProduct.descripcion),n(3),m("disabled",t.isLoading),n(3),L("invalid",t.isLoading),m("disabled",t.isLoading),n(6),L("invalid",!s.valid&&!t.isLoading)("valid",s.valid&&!t.isLoading)("is-loading",t.isLoading),m("disabled",!s.valid||t.isLoading),n(2),m("ngIf",t.isLoading),n(),m("ngIf",!t.isLoading),n(2),V(t.isLoading?"Guardando...":"Guardar Producto"),n(2),m("disabled",t.isLoading),n(2),m("ngIf",t.showSuccessModal)}},dependencies:[$,H,J,K,q,A,Y,G,N,X,Q,Z,U,z,W,O,j],styles:['.mobile-button[_ngcontent-%COMP%]{position:relative;touch-action:manipulation;-webkit-tap-highlight-color:transparent;-webkit-user-select:none;user-select:none}@media (max-width: 768px){.mobile-button[_ngcontent-%COMP%]{min-height:48px;font-weight:600;letter-spacing:.025em}.mobile-button[_ngcontent-%COMP%]:active:not(:disabled){transform:scale(.98);transition:transform .1s ease}.button-container[_ngcontent-%COMP%]{padding:16px 0;gap:12px}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{font-size:16px!important;-webkit-appearance:none;appearance:none}button[_ngcontent-%COMP%]:disabled{opacity:.6;filter:grayscale(.3);pointer-events:none}@media (max-width: 375px){.mobile-button[_ngcontent-%COMP%]{font-size:14px;padding-left:16px;padding-right:16px}}}@media (min-width: 769px) and (max-width: 1024px){.mobile-button[_ngcontent-%COMP%]{min-height:44px;font-size:14px}}@media (min-width: 769px){.desktop-hover[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 10px 15px -3px #0000001a}}.loading-button[_ngcontent-%COMP%]{position:relative;overflow:hidden}.loading-button[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:left .5s}.loading-button.is-loading[_ngcontent-%COMP%]:before{left:100%}.form-button[_ngcontent-%COMP%]:focus{outline:2px solid #f97316;outline-offset:2px}.form-button.invalid[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.form-button.valid[_ngcontent-%COMP%]{box-shadow:0 0 0 2px #22c55e33}']})};export{ne as RegistrarProductosPage};

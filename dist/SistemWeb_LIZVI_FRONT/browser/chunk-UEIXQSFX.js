import{a as J}from"./chunk-Y4VMV4HQ.js";import{d as j}from"./chunk-TFTKUNPW.js";import{a as F,b as G,c as N,d as B,e as H,f as z,h as D,i as A,j as W,l as Y,m as q,n as K,o as Q}from"./chunk-WECBFPEL.js";import"./chunk-I36WQ6MU.js";import"./chunk-PIYG2HY2.js";import{e as R,i as I,n as T}from"./chunk-6Y6W3DZI.js";import{Fa as L,Ka as b,R as M,Ta as l,Ua as e,Va as t,W as u,Wa as c,X as f,Y as m,Z as p,a as E,ab as y,b as V,db as h,fb as v,gb as _,hb as S,jb as d,kb as k,lb as O,nb as C,ob as P,pb as U,ra as a}from"./chunk-NRNLENJO.js";var w=class{id=0;descripcion="";estado=0};function Z(n,s){if(n&1&&(e(0,"div",56)(1,"div",57),m(),e(2,"svg",58),c(3,"path",59),t(),p(),e(4,"p",60),d(5),t()()()),n&2){let r=v();a(5),k(r.errorMessage)}}function $(n,s){if(n&1&&(e(0,"div",61)(1,"div",57),m(),e(2,"svg",62),c(3,"path",63),t(),p(),e(4,"p",64),d(5),t()()()),n&2){let r=v();a(5),k(r.successMessage)}}function ee(n,s){n&1&&(e(0,"div"),d(1,"La descripci\xF3n es obligatoria"),t())}function te(n,s){n&1&&(e(0,"div"),d(1,"Debe tener al menos 2 caracteres"),t())}function ie(n,s){n&1&&(e(0,"div"),d(1,"No puede superar los 100 caracteres"),t())}function ne(n,s){if(n&1&&(e(0,"div",65),b(1,ee,2,0,"div",54)(2,te,2,0,"div",54)(3,ie,2,0,"div",54),t()),n&2){v();let r=_(47);a(),l("ngIf",r.errors==null?null:r.errors.required),a(),l("ngIf",r.errors==null?null:r.errors.minlength),a(),l("ngIf",r.errors==null?null:r.errors.maxlength)}}function de(n,s){n&1&&(m(),e(0,"svg",66),c(1,"circle",67)(2,"path",68),t())}function re(n,s){n&1&&(m(),e(0,"svg",47),c(1,"path",69),t())}function ae(n,s){n&1&&(e(0,"span"),d(1,"Guardar Unidad de Medida"),t())}function oe(n,s){n&1&&(e(0,"span"),d(1,"Guardando..."),t())}function le(n,s){if(n&1){let r=y();e(0,"div",70)(1,"div",71)(2,"div",72)(3,"div",73),m(),e(4,"svg",74),c(5,"path",69),t()(),p(),e(6,"h3",75),d(7,"\xA1Unidad de Medida Registrada!"),t(),e(8,"p",76),d(9,"La unidad de medida se ha guardado correctamente en el sistema."),t(),e(10,"button",77),h("click",function(){u(r);let o=v();return f(o.cerrarModalYVolver())}),d(11," Continuar "),t()()()()}}var X=class n{router;location;unidadesMedidaService;newUnidadMedida=new w;isLoading=!1;showSuccessModal=!1;errorMessage=null;successMessage=null;constructor(){this.router=M(j),this.location=M(R),this.unidadesMedidaService=M(J),this.newUnidadMedida.estado=1}isFormValid(){return this.newUnidadMedida.descripcion.trim().length>=2&&this.newUnidadMedida.descripcion.trim().length<=100}guardarUnidadMedida(){if(!this.isFormValid())return;this.isLoading=!0;let s=V(E({},this.newUnidadMedida),{descripcion:this.newUnidadMedida.descripcion.trim()});this.unidadesMedidaService.registroUnidadMedida(s).subscribe({next:r=>{this.isLoading=!1,r.exito?this.showSuccessModal=!0:alert("Error al guardar la unidad de medida: "+(r.mensaje||"Error desconocido"))},error:r=>{this.isLoading=!1,console.error("Error al guardar unidad de medida:",r),alert("Error de conexi\xF3n. No se pudo guardar la unidad de medida.")}})}limpiarFormulario(){this.newUnidadMedida=new w,this.newUnidadMedida.estado=1}cancelarRegistro(){this.router.navigate(["/lista-unidad-medida"])}volverCatalogos(){this.router.navigate(["/lista-unidad-medida"])}cerrarModalYVolver(){this.showSuccessModal=!1,this.router.navigate(["/lista-unidad-medida"])}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=L({type:n,selectors:[["app-registro-unidad-medida-page"]],decls:79,vars:32,consts:[["unidadMedidaForm","ngForm"],["descripcionInput","ngModel"],[1,"flex","flex-col","min-h-screen","bg-white","p-2","sm:p-4","md:p-8"],[1,"flex","items-center","justify-between","pb-4","md:pb-6","border-b","border-gray-300","flex-none"],[1,"flex","items-center","gap-2","md:gap-4"],[1,"bg-orange-600","text-white","rounded-full","p-2","h-8","w-8","md:h-10","md:w-10","flex","items-center","justify-center","hover:bg-orange-700","transition","shadow-lg",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","md:w-5","md:h-5"],["stroke","none","d","M0 0h24v24H0z","fill","none"],["d","M5 12l14 0"],["d","M5 12l4 4"],["d","M5 12l4 -4"],[1,"text-lg","sm:text-xl","md:text-2xl","lg:text-3xl","font-extrabold","text-gray-900"],[1,"hidden","sm:inline"],[1,"sm:hidden"],["class","mt-4 md:mt-6 p-4 bg-red-100 border border-red-300 rounded-lg shadow-sm",4,"ngIf"],["class","mt-4 md:mt-6 p-4 bg-green-100 border border-green-300 rounded-lg shadow-sm",4,"ngIf"],[1,"mt-4","md:mt-8","space-y-4","md:space-y-8","bg-gray-50","p-3","md:p-8","rounded-xl","shadow-2xl",3,"ngSubmit"],[1,"grid","grid-cols-1","lg:grid-cols-12","gap-4","md:gap-8"],[1,"lg:col-span-4","flex","flex-col","space-y-4","md:space-y-6","p-3","md:p-6","bg-gradient-to-br","from-orange-50","to-orange-100","rounded-xl","shadow-lg","border-l-4","border-orange-600"],[1,"text-lg","md:text-xl","font-extrabold","text-orange-600","border-b-2","border-orange-300","pb-2","w-full","text-center","lg:text-left"],[1,"flex","justify-center","lg:justify-start"],[1,"relative","h-20","w-20","md:h-32","md:w-32","rounded-full","bg-gradient-to-br","from-orange-400","to-orange-600","flex","items-center","justify-center","shadow-lg","family-icon"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-10","h-10","md:w-16","md:h-16","text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 6l3 1m0 0l-3 9a5.002 5.002 0 006.001 0M6 7l3 9M6 7l6-2m6 2l3-1m-3 1l-3 9a5.002 5.002 0 006.001 0M18 7l3 9m-3-9l-6-2m0-2v2m0 16V5m0 16l-3-9m3 9l3-9"],[1,"bg-blue-50","border","border-blue-200","rounded-lg","p-3"],[1,"flex","items-start"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","md:w-5","md:h-5","text-blue-600","mr-2","mt-0.5","flex-shrink-0"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-blue-800","text-xs","md:text-sm","font-medium"],[1,"text-blue-700","text-xs","md:text-sm","mt-1"],[1,"lg:col-span-8","space-y-4","md:space-y-6"],[1,"bg-white","p-3","md:p-6","rounded-lg","border","border-gray-200","shadow-sm"],[1,"text-lg","md:text-xl","font-bold","text-gray-800","mb-3","md:mb-6","pb-2","md:pb-3","border-b","border-orange-100"],[1,"space-y-4","md:space-y-6"],["for","descripcion",1,"block","text-xs","md:text-sm","font-bold","text-gray-700","mb-2"],[1,"text-red-500"],["type","text","id","descripcion","name","descripcion","required","","minlength","2","maxlength","100","placeholder","Ej: Kilogramo, Litro, Unidad, Metro...",1,"w-full","px-3","md:px-4","py-2","md:py-3","text-sm","md:text-base","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-orange-500","focus:border-orange-500","transition-colors",3,"ngModelChange","ngModel"],[1,"flex","justify-between","items-center","mt-2"],[1,"text-xs","text-gray-500"],[1,"text-xs","font-mono"],["class","mt-2 text-xs text-red-600",4,"ngIf"],["for","estado",1,"block","text-xs","md:text-sm","font-bold","text-gray-700","mb-2"],["id","estado","name","estado",1,"w-full","px-3","md:px-4","py-2","md:py-3","text-sm","md:text-base","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-orange-500","focus:border-orange-500","transition-colors","bg-white",3,"ngModelChange","ngModel"],[3,"ngValue"],[1,"mt-2","text-xs","text-gray-500"],[1,"flex","flex-col","sm:flex-row","gap-3","md:gap-4","pt-4","md:pt-8","border-t","border-gray-200"],["type","button",1,"w-full","sm:w-auto","px-4","md:px-6","py-2","md:py-3","text-sm","md:text-base","bg-gray-100","text-gray-700","font-medium","rounded-lg","hover:bg-gray-200","transition","duration-150","flex","items-center","justify-center","border","border-gray-300",3,"click"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-4","h-4","md:w-5","md:h-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],["type","button",1,"w-full","sm:w-auto","px-4","md:px-6","py-2","md:py-3","text-sm","md:text-base","bg-gray-500","text-white","font-medium","rounded-lg","hover:bg-gray-600","transition","duration-150","flex","items-center","justify-center",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],["type","submit",1,"w-full","sm:flex-1","px-4","md:px-6","py-2","md:py-3","text-sm","md:text-base","font-medium","rounded-lg","transition","duration-150","flex","items-center","justify-center",3,"disabled"],["class","animate-spin -ml-1 mr-3 h-4 w-4 md:h-5 md:w-5 text-white","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",4,"ngIf"],["class","w-4 h-4 md:w-5 md:h-5 mr-2","fill","none","viewBox","0 0 24 24","stroke","currentColor",4,"ngIf"],[4,"ngIf"],["class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",4,"ngIf"],[1,"mt-4","md:mt-6","p-4","bg-red-100","border","border-red-300","rounded-lg","shadow-sm"],[1,"flex","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-red-600","mr-2","flex-shrink-0"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-red-800","font-medium","text-sm","md:text-base"],[1,"mt-4","md:mt-6","p-4","bg-green-100","border","border-green-300","rounded-lg","shadow-sm"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-green-600","mr-2","flex-shrink-0"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-green-800","font-medium","text-sm","md:text-base"],[1,"mt-2","text-xs","text-red-600"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-4","w-4","md:h-5","md:w-5","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","z-50","p-4"],[1,"bg-white","rounded-lg","p-6","max-w-md","w-full","mx-4","animate-fade-in"],[1,"text-center"],[1,"mx-auto","flex","items-center","justify-center","h-12","w-12","rounded-full","bg-green-100","mb-4"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6","text-green-600"],[1,"text-lg","font-medium","text-gray-900","mb-2"],[1,"text-sm","text-gray-500","mb-6"],[1,"w-full","px-4","py-2","bg-green-600","text-white","text-sm","font-medium","rounded-md","hover:bg-green-700","focus:outline-none","focus:ring-2","focus:ring-green-500","focus:ring-offset-2","transition",3,"click"]],template:function(r,i){if(r&1){let o=y();e(0,"div",2)(1,"div",3)(2,"div",4)(3,"button",5),h("click",function(){return u(o),f(i.volverCatalogos())}),m(),e(4,"svg",6),c(5,"path",7)(6,"path",8)(7,"path",9)(8,"path",10),t()(),p(),e(9,"h1",11)(10,"span",12),d(11,"Registrar Nueva Unidad de Medida"),t(),e(12,"span",13),d(13,"Nueva Unidad"),t()()()(),b(14,Z,6,1,"div",14)(15,$,6,1,"div",15),e(16,"form",16,0),h("ngSubmit",function(){return u(o),f(i.guardarUnidadMedida())}),e(18,"div",17)(19,"div",18)(20,"h2",19),d(21," Informaci\xF3n de la Unidad de Medida "),t(),e(22,"div",20)(23,"div",21),m(),e(24,"svg",22),c(25,"path",23),t()()(),p(),e(26,"div",24)(27,"div",25),m(),e(28,"svg",26),c(29,"path",27),t(),p(),e(30,"div")(31,"p",28)(32,"strong"),d(33,"\xBFQu\xE9 es una unidad de medida?"),t()(),e(34,"p",29),d(35," Las unidades de medida definen c\xF3mo se cuantifican los productos (ej: kilogramos, litros, unidades, metros). "),t()()()()(),e(36,"div",30)(37,"div",31)(38,"h2",32),d(39," \u270F\uFE0F Datos de la Unidad de Medida "),t(),e(40,"div",33)(41,"div")(42,"label",34),d(43," Nombre de la Unidad de Medida "),e(44,"span",35),d(45,"*"),t()(),e(46,"input",36,1),U("ngModelChange",function(x){return u(o),P(i.newUnidadMedida.descripcion,x)||(i.newUnidadMedida.descripcion=x),f(x)}),t(),e(48,"div",37)(49,"div",38),d(50," M\xEDnimo 2 caracteres, m\xE1ximo 100 "),t(),e(51,"div",39),d(52),t()(),b(53,ne,4,3,"div",40),t(),e(54,"div")(55,"label",41),d(56," Estado "),t(),e(57,"select",42),U("ngModelChange",function(x){return u(o),P(i.newUnidadMedida.estado,x)||(i.newUnidadMedida.estado=x),f(x)}),e(58,"option",43),d(59,"Activo"),t(),e(60,"option",43),d(61,"Inactivo"),t()(),e(62,"p",44),d(63," Solo las unidades de medida activas aparecer\xE1n disponibles para asignar a productos "),t()()()()()(),e(64,"div",45)(65,"button",46),h("click",function(){return u(o),f(i.limpiarFormulario())}),m(),e(66,"svg",47),c(67,"path",48),t(),d(68," Limpiar "),t(),p(),e(69,"button",49),h("click",function(){return u(o),f(i.cancelarRegistro())}),m(),e(70,"svg",47),c(71,"path",50),t(),d(72," Cancelar "),t(),p(),e(73,"button",51),b(74,de,3,0,"svg",52)(75,re,2,0,"svg",53)(76,ae,2,0,"span",54)(77,oe,2,0,"span",54),t()()()(),b(78,le,12,0,"div",55)}if(r&2){let o=_(17),g=_(47);a(14),l("ngIf",i.errorMessage),a(),l("ngIf",i.successMessage),a(31),C("ngModel",i.newUnidadMedida.descripcion),a(5),S("text-orange-500",(i.newUnidadMedida.descripcion||"").length>80)("text-red-500",(i.newUnidadMedida.descripcion||"").length>95)("text-gray-400",(i.newUnidadMedida.descripcion||"").length<=80),a(),O(" ",(i.newUnidadMedida.descripcion||"").length,"/100 "),a(),l("ngIf",g.invalid&&(g.dirty||g.touched)),a(4),C("ngModel",i.newUnidadMedida.estado),a(),l("ngValue",1),a(2),l("ngValue",0),a(13),S("bg-orange-600",o.valid&&!i.isLoading)("hover:bg-orange-700",o.valid&&!i.isLoading)("text-white",o.valid&&!i.isLoading)("bg-gray-300",!o.valid||i.isLoading)("text-gray-500",!o.valid||i.isLoading)("cursor-not-allowed",!o.valid||i.isLoading),l("disabled",!o.valid||i.isLoading),a(),l("ngIf",i.isLoading),a(),l("ngIf",!i.isLoading),a(),l("ngIf",!i.isLoading),a(),l("ngIf",i.isLoading),a(),l("ngIf",i.showSuccessModal)}},dependencies:[T,I,Q,z,A,W,F,D,G,N,Y,q,K,H,B],styles:["@keyframes _ngcontent-%COMP%_fade-in{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fade-in .3s ease-out}@media (max-width: 640px){.mobile-padding[_ngcontent-%COMP%]{padding:.75rem}.mobile-touch-target[_ngcontent-%COMP%]{min-height:48px;touch-action:manipulation}.mobile-form-spacing[_ngcontent-%COMP%]{gap:1rem}input[type=text][_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{font-size:16px}}.form-field.valid[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-color:#10b981;background-color:#f0fdf4}.form-field.invalid[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-color:#ef4444;background-color:#fef2f2}.character-counter.warning[_ngcontent-%COMP%]{color:#f59e0b;font-weight:600}.character-counter.danger[_ngcontent-%COMP%]{color:#ef4444;font-weight:600}.btn-loading[_ngcontent-%COMP%]{position:relative}.btn-loading[_ngcontent-%COMP%]:disabled{cursor:not-allowed}.focus-visible[_ngcontent-%COMP%]:focus{outline:2px solid #f97316;outline-offset:2px}.smooth-transition[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.main-container[_ngcontent-%COMP%]{scroll-behavior:smooth;-webkit-overflow-scrolling:touch}.card-shadow[_ngcontent-%COMP%]{box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f}.card-shadow-lg[_ngcontent-%COMP%]{box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d}.gradient-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ea580c,#dc2626)}.gradient-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fef3c7,#fde68a)}.hover-lift[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a}.loading-overlay[_ngcontent-%COMP%]{background:#fffc;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.modal-backdrop[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);background:#0009}@media (min-width: 768px){.responsive-text[_ngcontent-%COMP%]{font-size:1.125rem}}@media (max-width: 767px){.responsive-text[_ngcontent-%COMP%]{font-size:.875rem}}"]})};export{X as RegistroUnidadMedidaPage};

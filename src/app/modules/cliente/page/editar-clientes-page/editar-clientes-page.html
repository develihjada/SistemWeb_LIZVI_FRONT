<div class="flex flex-col min-h-screen bg-gray-50 p-4 sm:p-8">

  <div class="flex flex-col md:flex-row md:items-center md:justify-between pb-6 border-b border-gray-300 flex-none">
    <div class="flex items-center gap-4 mb-4 md:mb-0">
      <button (click)="volverCatalogos()" class="bg-orange-600 text-white rounded-full p-2 h-10 w-10 flex items-center justify-center hover:bg-orange-700 transition">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M5 12l14 0" /><path d="M5 12l4 4" /><path d="M5 12l4 -4" /></svg>
      </button>
      <h1 class="text-3xl font-extrabold text-gray-900">Editar Cliente #{{ clienteId }}</h1>
    </div>
  </div>

  <div class="max-w-4xl mx-auto mt-8 flex-grow">

  <!-- Loading state para datos -->
  <div *ngIf="isLoadingData" class="text-center py-12">
    <div class="inline-flex items-center px-4 py-2 font-semibold leading-6 text-sm shadow rounded-md text-orange-500 bg-orange-100 transition ease-in-out duration-150">
      <svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-orange-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
        <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
      </svg>
      Cargando datos del cliente...
    </div>
  </div>

  <!-- Contenido principal -->
  <div *ngIf="!isLoadingData">    <!-- Formulario -->
    <div class="bg-white rounded-lg shadow-md p-6">
      <form (ngSubmit)="onSubmit()" #clienteForm="ngForm">

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">

          <!-- Nombres -->
          <div>
            <label for="nombres" class="block text-sm font-medium text-gray-700 mb-2">
              Nombres *
            </label>
            <input
              type="text"
              id="nombres"
              name="nombres"
              [(ngModel)]="cliente.nombres"
              required
              class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"
              placeholder="Ingrese los nombres">
          </div>

          <!-- Apellidos -->
          <div>
            <label for="apellidos" class="block text-sm font-medium text-gray-700 mb-2">
              Apellidos *
            </label>
            <input
              type="text"
              id="apellidos"
              name="apellidos"
              [(ngModel)]="cliente.apellidos"
              required
              class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"
              placeholder="Ingrese los apellidos">
          </div>

          <!-- Estado -->
          <div>
            <label for="estado" class="block text-sm font-medium text-gray-700 mb-2">
              Estado
            </label>
            <select
              id="estado"
              name="estado"
              [(ngModel)]="cliente.estado"
              class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent">
              <option value="1">Activo</option>
              <option value="0">Inactivo</option>
            </select>
          </div>

        </div>

        <!-- Botones -->
        <div class="flex justify-end space-x-4 pt-4 border-t border-gray-200">
          <button
            type="button"
            (click)="cancelar()"
            class="px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition duration-150">
            Cancelar
          </button>

          <button
            type="submit"
            [disabled]="isLoading || !clienteForm.valid"
            class="px-6 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:bg-gray-400 transition duration-150 flex items-center">
            <svg
              *ngIf="isLoading"
              class="animate-spin -ml-1 mr-3 h-5 w-5 text-white"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24">
              <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
              <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
            </svg>
            {{ isLoading ? 'Actualizando...' : 'Actualizar Cliente' }}
          </button>
        </div>

      </form>
    </div>
  </div>

  </div>
</div>
